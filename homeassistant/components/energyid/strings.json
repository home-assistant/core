{
  "config": {
    "step": {
      "user": {
        "title": "Connect to EnergyID (Step 1 of 3)",
        "description": "Enter your EnergyID Webhook Provisioning Key and Secret. Find these in your EnergyID portal under Device Provisioning or Webhook settings. More info: [EnergyID Docs]({docs_url})",
        "data": {
          "provisioning_key": "Provisioning Key",
          "provisioning_secret": "Provisioning Secret"
        },
        "data_description": {
          "provisioning_key": "Your unique key for provisioning.",
          "provisioning_secret": "Your secret associated with the provisioning key."
        }
      },
      "auth_and_claim": {
        "title": "Claim Device in EnergyID (Step 2 of 3)",
        "description": "This Home Assistant connection needs to be claimed in your EnergyID portal before it can send data.\n\n1. Go to: {claim_url}\n2. Enter Code: **{claim_code}**\n3. (Code expires: {valid_until})\n\nAfter successfully claiming the device in EnergyID, click **Submit** below to continue.",
        "data": {}
      },
      "finalize": {
        "title": "Finalize Setup (Step 3 of 3)",
        "description": "Successfully connected to EnergyID!\n\nPlease confirm or set the name this Home Assistant instance should use when communicating with EnergyID. This name will appear in your EnergyID webhook device list, helping you identify this connection.",
        "data": {
          "device_name": "Device Name (for EnergyID Webhook)"
        },
        "data_description": {
          "device_name": "This friendly name identifies this Home Assistant connection in your EnergyID portal's webhook list."
        }
      }
    },
    "error": {
      "cannot_retrieve_claim_info_format": "Could not retrieve valid device claim information from EnergyID in the expected format. Please check credentials and try again.",
      "cannot_connect": "[%key:common::config_flow::error::cannot_connect%]",
      "unknown_auth_error": "An unexpected error occurred during authentication with EnergyID. Please check logs.",
      "missing_record_number": "Authenticated, but EnergyID did not provide a site identifier (Record Number). Setup cannot continue.",
      "claim_failed_or_timed_out": "Device claiming failed or the code may have expired. Please ensure you've claimed it correctly in EnergyID and try submitting again. The claim details below might have updated if the code expired.",
      "cannot_retrieve_claim_info": "Could not retrieve valid device claim information from EnergyID. Please check credentials and try again.",
      "missing_credentials": "Internal error: provisioning credentials missing.",
      "internal_flow_data_missing": "Internal error: Required data for this step is missing. Please restart the setup."
    },
    "abort": {
      "already_configured": "[%key:common::config_flow::abort::already_configured_device%]",
      "reauth_successful": "[%key:common::config_flow::abort::reauth_successful%]",
      "internal_error_no_claim_info": "Internal error: Claim information was unexpectedly missing. Cannot proceed."
    }
  },
  "options": {
    "step": {
      "init": {
        "title": "Manage EnergyID Mappings",
        "data": {
          "next_step": "Select Action"
        },
        "description": "Configure mappings for EnergyID device. Select an action below.",
        "data_description": {
          "next_step": "Choose whether to add a new mapping or manage existing ones."
        }
      },
      "add_mapping": {
        "title": "Add Sensor to EnergyID",
        "data": {
          "ha_entity_id": "Home Assistant Sensor",
          "energyid_key": "EnergyID Metric Key",
          "show_all_sensors": "Show all sensors"
        },
        "description": "Select a sensor and enter the EnergyID metric key to map it to.",
        "data_description": {
          "ha_entity_id": "Select the sensor from Home Assistant.",
          "energyid_key": "Enter the corresponding metric key for EnergyID (e.g., 'el', 'pv', 'temp.living'). No spaces.",
          "show_all_sensors": "Show all available sensors in Home Assistant."
        }
      },
      "manage_mappings": {
        "title": "Select Mapping to Modify/Delete",
        "data": {
          "selected_mapping": "Select Mapping"
        },
        "description": "Choose one of the existing mappings:",
        "data_description": {
          "selected_mapping": "Select the specific mapping you want to modify or delete."
        }
      },
      "mapping_action": {
        "title": "Modify or Delete Mapping",
        "menu_options": {
          "edit_mapping": "Update EnergyID Key",
          "delete_mapping": "Delete This Mapping"
        },
        "description": "Selected mapping. Choose an action to perform."
      },
      "edit_mapping": {
        "title": "Update EnergyID Key",
        "data": {
          "energyid_key": "New EnergyID Metric Key"
        },
        "description": "Update the EnergyID key for the selected entity.",
        "data_description": {
          "energyid_key": "Enter the new EnergyID key. No spaces allowed."
        }
      },
      "delete_mapping": {
        "title": "Confirm Delete Mapping",
        "description": "Are you sure you want to stop sending data from this entity? The EnergyID key will no longer be updated by this entity."
      }
    },
    "error": {
      "invalid_key_empty": "EnergyID key cannot be empty.",
      "invalid_key_spaces": "EnergyID key cannot contain spaces.",
      "entity_already_mapped": "This Home Assistant entity is already mapped.",
      "entity_required": "You must select a sensor entity."
    },
    "abort": {
      "no_mappings_to_manage": "There are no mappings configured yet. Please add one first.",
      "no_mapping_selected": "No mapping was selected.",
      "mapping_not_found": "The selected mapping could not be found or was removed.",
      "menu_render_error": "Failed to display the management menu. Please try again."
    }
  }
}
